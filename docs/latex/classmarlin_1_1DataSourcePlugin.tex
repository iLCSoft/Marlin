\section{marlin\+:\+:Data\+Source\+Plugin Class Reference}
\label{classmarlin_1_1DataSourcePlugin}\index{marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}}


\doxyref{Data\+Source\+Plugin}{p.}{classmarlin_1_1DataSourcePlugin} class Responsible for reading/getting L\+C\+Event and L\+C\+Run\+Header in the framework for further processing.  




{\ttfamily \#include $<$Data\+Source\+Plugin.\+h$>$}

Inheritance diagram for marlin\+:\+:Data\+Source\+Plugin\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classmarlin_1_1DataSourcePlugin}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classmarlin_1_1DataSourcePlugin_a9f178249c14e52ed972923d52ba3a4a6}} 
using {\bfseries Event\+Function} = std\+::function$<$ void(std\+::shared\+\_\+ptr$<$ E\+V\+E\+N\+T\+::\+L\+C\+Event $>$)$>$
\item 
\mbox{\label{classmarlin_1_1DataSourcePlugin_ad88f0869d0853c6e2ac8f6293ad36d0d}} 
using {\bfseries Run\+Header\+Function} = std\+::function$<$ void(std\+::shared\+\_\+ptr$<$ E\+V\+E\+N\+T\+::\+L\+C\+Run\+Header $>$)$>$
\item 
\mbox{\label{classmarlin_1_1DataSourcePlugin_a8443fdd38a51d199266e2871a0eed297}} 
using {\bfseries Logger} = Logging\+::\+Logger
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Data\+Source\+Plugin} (const std\+::string \&dstype)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
void \textbf{ init} (const \textbf{ Application} $\ast$app)
\begin{DoxyCompactList}\small\item\em Initialize the plugin using application parameters. \end{DoxyCompactList}\item 
\mbox{\label{classmarlin_1_1DataSourcePlugin_a765745cfb812360c2bdc423360247adf}} 
const std\+::string \& \textbf{ type} () const
\begin{DoxyCompactList}\small\item\em Get the data source type. \end{DoxyCompactList}\item 
\mbox{\label{classmarlin_1_1DataSourcePlugin_aea2abca77ef499be9651e439f778f300}} 
const std\+::string \& \textbf{ description} () const
\begin{DoxyCompactList}\small\item\em Get the data source description. \end{DoxyCompactList}\item 
\mbox{\label{classmarlin_1_1DataSourcePlugin_ac050d7005038eb8eff12343b3f1c9bd0}} 
virtual void \textbf{ init} ()=0
\begin{DoxyCompactList}\small\item\em Initialize the plugin. \end{DoxyCompactList}\item 
virtual bool \textbf{ read\+One} ()=0
\begin{DoxyCompactList}\small\item\em Read one record from the input stream. \end{DoxyCompactList}\item 
\mbox{\label{classmarlin_1_1DataSourcePlugin_a712a9cb0065c2058e6c6494c015074fc}} 
virtual void \textbf{ read\+All} ()
\begin{DoxyCompactList}\small\item\em Read the full stream until the end See \doxyref{read\+One()}{p.}{classmarlin_1_1DataSourcePlugin_a9e174b63facdc108425e79fca9022404} for details. \end{DoxyCompactList}\item 
void \textbf{ on\+Event\+Read} (Event\+Function func)
\begin{DoxyCompactList}\small\item\em Set the callback function to process on event read. \end{DoxyCompactList}\item 
void \textbf{ on\+Run\+Header\+Read} (Run\+Header\+Function func)
\begin{DoxyCompactList}\small\item\em Set the callback function to process on run header read. \end{DoxyCompactList}\item 
\mbox{\label{classmarlin_1_1DataSourcePlugin_a672029270e97285c09eae4ab80fd6ef8}} 
Logger \textbf{ logger} () const
\begin{DoxyCompactList}\small\item\em Get the plugin logger. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ process\+Run\+Header} (std\+::shared\+\_\+ptr$<$ E\+V\+E\+N\+T\+::\+L\+C\+Run\+Header $>$ rhdr)
\begin{DoxyCompactList}\small\item\em Must be called by daughter classes in read\+Stream() to process an event in the framework. \end{DoxyCompactList}\item 
void \textbf{ process\+Event} (std\+::shared\+\_\+ptr$<$ E\+V\+E\+N\+T\+::\+L\+C\+Event $>$ event)
\begin{DoxyCompactList}\small\item\em Must be called by daughter classes in read\+Stream() to process an event in the framework. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classmarlin_1_1DataSourcePlugin_a54050a821803867a90dbb2e7538ebbb3}} 
std\+::string \textbf{ \+\_\+description} \{\char`\"{}No \textbf{ description}\char`\"{}\}
\begin{DoxyCompactList}\small\item\em $<$ The data source description \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\doxyref{Data\+Source\+Plugin}{p.}{classmarlin_1_1DataSourcePlugin} class Responsible for reading/getting L\+C\+Event and L\+C\+Run\+Header in the framework for further processing. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\label{classmarlin_1_1DataSourcePlugin_abc28a03b6f994da1673ac2c70acc5cd9}} 
\index{marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}!Data\+Source\+Plugin@{Data\+Source\+Plugin}}
\index{Data\+Source\+Plugin@{Data\+Source\+Plugin}!marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}}
\subsubsection{Data\+Source\+Plugin()}
{\footnotesize\ttfamily marlin\+::\+Data\+Source\+Plugin\+::\+Data\+Source\+Plugin (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{dstype }\end{DoxyParamCaption})}



Constructor. 


\begin{DoxyParams}{Parameters}
{\em dstype} & the data source plugin type \\
\hline
\end{DoxyParams}


References marlin\+::\+Logging\+::create\+Logger().



\subsection{Member Function Documentation}
\mbox{\label{classmarlin_1_1DataSourcePlugin_a56cdc244de7fe56c2ab7206c08265336}} 
\index{marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}!init@{init}}
\index{init@{init}!marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}}
\subsubsection{init()}
{\footnotesize\ttfamily void marlin\+::\+Data\+Source\+Plugin\+::init (\begin{DoxyParamCaption}\item[{const \textbf{ Application} $\ast$}]{app }\end{DoxyParamCaption})}



Initialize the plugin using application parameters. 


\begin{DoxyParams}{Parameters}
{\em app} & the application in which the plugin is running \\
\hline
\end{DoxyParams}


References marlin\+::\+Application\+::create\+Logger(), marlin\+::\+Application\+::data\+Source\+Parameters(), description(), init(), logger(), marlin\+::\+Parametrized\+::set\+Parameters(), and type().

\mbox{\label{classmarlin_1_1DataSourcePlugin_a1f91ed1135604736ee6bda7d4e303f1e}} 
\index{marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}!on\+Event\+Read@{on\+Event\+Read}}
\index{on\+Event\+Read@{on\+Event\+Read}!marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}}
\subsubsection{on\+Event\+Read()}
{\footnotesize\ttfamily void marlin\+::\+Data\+Source\+Plugin\+::on\+Event\+Read (\begin{DoxyParamCaption}\item[{Event\+Function}]{func }\end{DoxyParamCaption})}



Set the callback function to process on event read. 


\begin{DoxyParams}{Parameters}
{\em func} & the callback function \\
\hline
\end{DoxyParams}
\mbox{\label{classmarlin_1_1DataSourcePlugin_afe70af555a35ae259620b8ae1cbf0ccb}} 
\index{marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}!on\+Run\+Header\+Read@{on\+Run\+Header\+Read}}
\index{on\+Run\+Header\+Read@{on\+Run\+Header\+Read}!marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}}
\subsubsection{on\+Run\+Header\+Read()}
{\footnotesize\ttfamily void marlin\+::\+Data\+Source\+Plugin\+::on\+Run\+Header\+Read (\begin{DoxyParamCaption}\item[{Run\+Header\+Function}]{func }\end{DoxyParamCaption})}



Set the callback function to process on run header read. 


\begin{DoxyParams}{Parameters}
{\em func} & the callback function \\
\hline
\end{DoxyParams}
\mbox{\label{classmarlin_1_1DataSourcePlugin_add4afa8b047d3a2e4e33a9957e75d9bb}} 
\index{marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}!process\+Event@{process\+Event}}
\index{process\+Event@{process\+Event}!marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}}
\subsubsection{process\+Event()}
{\footnotesize\ttfamily void marlin\+::\+Data\+Source\+Plugin\+::process\+Event (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ E\+V\+E\+N\+T\+::\+L\+C\+Event $>$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Must be called by daughter classes in read\+Stream() to process an event in the framework. 


\begin{DoxyParams}{Parameters}
{\em event} & the event to process \\
\hline
\end{DoxyParams}
\mbox{\label{classmarlin_1_1DataSourcePlugin_a769e257658ee89c176857191773c26b3}} 
\index{marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}!process\+Run\+Header@{process\+Run\+Header}}
\index{process\+Run\+Header@{process\+Run\+Header}!marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}}
\subsubsection{process\+Run\+Header()}
{\footnotesize\ttfamily void marlin\+::\+Data\+Source\+Plugin\+::process\+Run\+Header (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ E\+V\+E\+N\+T\+::\+L\+C\+Run\+Header $>$}]{rhdr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Must be called by daughter classes in read\+Stream() to process an event in the framework. 


\begin{DoxyParams}{Parameters}
{\em event} & the event to process \\
\hline
\end{DoxyParams}
\mbox{\label{classmarlin_1_1DataSourcePlugin_a9e174b63facdc108425e79fca9022404}} 
\index{marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}!read\+One@{read\+One}}
\index{read\+One@{read\+One}!marlin\+::\+Data\+Source\+Plugin@{marlin\+::\+Data\+Source\+Plugin}}
\subsubsection{read\+One()}
{\footnotesize\ttfamily virtual bool marlin\+::\+Data\+Source\+Plugin\+::read\+One (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Read one record from the input stream. 

Users must call \doxyref{process\+Run\+Header()}{p.}{classmarlin_1_1DataSourcePlugin_a769e257658ee89c176857191773c26b3} or \doxyref{process\+Event()}{p.}{classmarlin_1_1DataSourcePlugin_add4afa8b047d3a2e4e33a9957e75d9bb} to forward it to the framework. Returns true on success. If the end of the stream is reached, return false. 

Implemented in \textbf{ marlin\+::\+L\+C\+I\+O\+File\+Source} \doxyref{}{p.}{classmarlin_1_1LCIOFileSource_aed4e06595dbb4b22b50766369d0c4809}, and \textbf{ marlin\+::\+Std\+Hep\+File\+Source} \doxyref{}{p.}{classmarlin_1_1StdHepFileSource_a0dc43528a14d38dc6277ba300f5fecb8}.



Referenced by read\+All().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Data\+Source\+Plugin.\+h\item 
Data\+Source\+Plugin.\+cc\end{DoxyCompactItemize}
